diff --git a/landscape/client/package/reporter.py b/landscape/client/package/reporter.py
index b784317b..09b88490 100644
--- a/landscape/client/package/reporter.py
+++ b/landscape/client/package/reporter.py
@@ -618,6 +618,20 @@ class PackageReporter(PackageTaskHandler):
         return deferred.addCallback(changes_detected)

     def detect_packages_changes(self):
+        import cProfile, pstats
+        from pstats import SortKey
+        pr = cProfile.Profile()
+        pr.enable()
+        result = self.detect_packages_changes_inner()
+        pr.disable()
+        sortby = SortKey.CUMULATIVE
+        with open("/tmp/lib/landscape/client/result.txt", "w") as fp:
+            ps = pstats.Stats(pr, stream=fp).sort_stats(sortby)
+            ps.print_stats()
+
+        return result
+
+    def detect_packages_changes_inner(self):
         """
         Check if any information regarding packages have changed, and if so
         compute the changes and send a signal.
@@ -654,6 +668,16 @@ class PackageReporter(PackageTaskHandler):
         return False

     def _compute_packages_changes(self):  # noqa: max-complexity: 13
+        import cProfile, pstats
+        profile = cProfile.Profile()
+        profile.enable()
+        result = self._compute_packages_changes_inner()
+        profile.disable()
+        with open('/home/ubuntu/result.txt', 'w') as fp:
+            pstats.Stats(profile, stream=fp)
+            pstats.print_stats()
+        return result
+    def compute_packages_change_inner(self):
         """Analyse changes in the universe of known packages.

         This method will verify if there are packages that:
@@ -705,14 +729,11 @@ class PackageReporter(PackageTaskHandler):
             # support pinning, but we don't yet. In the mean time, we
             # ignore backports, so that packages don't get automatically
             # upgraded to the backports version.
-            backport_origins = [
-                origin
-                for origin in package.origins
-                if origin.archive == backports_archive
-            ]
-            if backport_origins and (
-                len(backport_origins) == len(package.origins)
-            ):
+            archives = [a[0].archive for a in package.version._cand.file_list]
+            backports_origins = all(
+                archive == backports_archive for archive in archives
+            )
+            if backports_origins:
                 # Ignore the version if it's only in the official
                 # backports archive. If it's somewhere else as well,
                 # e.g. a PPA, we assume it was added manually and the
diff --git a/root-client.conf b/root-client.conf
index a0efcdbc..9cf79bd2 100644
--- a/root-client.conf
+++ b/root-client.conf
@@ -1,14 +1,20 @@
 [client]
 bus = system
-computer_title = John's PC
+computer_title = Test Noble
 account_name = onward
-registration_key =
-url = http://localhost:8080/message-system
-package_hash_id_url = http://localhost:8080/hash-id-databases
-data_path = /tmp/landscape-root
-log_dir = /tmp/landscape-root
+registration_key = world
+exchange_interval = 200
+url = http://10.19.80.111:8080/message-system
+ping_url = http://10.19.80.111:8081/ping
+data_path = /tmp/lib/landscape/client/
+package_hash_id_url = http://10.19.80.111:9090/hash-id-databases
+pid_file = /tmp/run/landscape/landscape-client.pid
+log_dir = /tmp/log/landscape/
 log_level = debug
-pid_file = /tmp/landscape-root/landscape-client.pid
-ping_url = http://localhost:8080/ping
-include_manager_plugins = ScriptExecution
-script_users = www-data, nobody, root
+manager_plugins = ALL
+monitor_plugins = ALL
+package_monitor_interval = 1000
+apt_update_interval = 300
+script_users = ALL
+ping_interval = 10
+flush_interval = 200
